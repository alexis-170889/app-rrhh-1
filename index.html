<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MIVRA - Consultor√≠a de RRHH</title>
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <header>
        <div class="container header-content">
            <div class="logo">
                <img src="./2.png" alt="MIVRA Logo" id="logo-img">
                <div class="logo-text">
                    <h1>MIVRA</h1>
                    <p>personas + process</p>
                </div>
            </div>
            <nav>
                <ul>
                    <li><a href="#" class="nav-link active" data-target="dashboard">Dashboard</a></li>
                    <li><a href="#" class="nav-link" data-target="empresas">Empresas</a></li>
                    <li><a href="#" class="nav-link" data-target="servicios">Servicios</a></li>
                    <li><a href="#" class="nav-link" data-target="documentos">Documentos</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container">
        <!-- Secci√≥n Dashboard -->
        <section id="dashboard" class="content-section active">
            <h2>Dashboard</h2>
            <div class="dashboard-grid">
                <div class="stat-card">
                    <h3>Total Empresas</h3>
                    <p id="total-empresas">0</p>
                </div>
                <div class="stat-card">
                    <h3>Servicios Activos</h3>
                    <p id="servicios-activos">0</p>
                </div>
                <div class="stat-card">
                    <h3>Pr√≥ximas Reuniones</h3>
                    <p id="proximas-reuniones">0</p>
                </div>
            </div>
            
            <div class="recent-activity">
                <h3>Actividad Reciente</h3>
                <ul id="activity-list">
                    <!-- La actividad se cargar√° din√°micamente -->
                </ul>
            </div>
        </section>

        <!-- Secci√≥n Empresas - REDISE√ëADA -->
        <section id="empresas" class="content-section">
            <div class="section-header">
                <h2>Gesti√≥n de Empresas</h2>
                <button id="add-empresa-btn" class="btn-primary">
                    <span class="icon">+</span> A√±adir Empresa
                </button>
            </div>
            
            <div class="stats-bar">
                <div class="stat-item">
                    <span class="stat-number" id="total-empresas-stat">0</span>
                    <span class="stat-label">Empresas</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="servicios-activos-stat">0</span>
                    <span class="stat-label">Servicios Activos</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="empresas-recientes-stat">0</span>
                    <span class="stat-label">A√±adidas este mes</span>
                </div>
            </div>
            
            <div class="filters-card">
                <h3>Filtrar Empresas</h3>
                <div class="filters">
                    <div class="filter-group">
                        <label for="empresa-search">Buscar por nombre</label>
                        <input type="text" id="empresa-search" placeholder="Escribe para buscar...">
                    </div>
                    <div class="filter-group">
                        <label for="servicio-filter">Filtrar por servicio</label>
                        <select id="servicio-filter">
                            <option value="">Todos los servicios</option>
                            <option value="checkup">Check-Up Salud Laboral</option>
                            <option value="comunicacion">Taller Comunicaci√≥n</option>
                            <option value="contratacion">Design Primer Empleado</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="estado-filter">Estado</label>
                        <select id="estado-filter">
                            <option value="">Todos</option>
                            <option value="activa">Activas</option>
                            <option value="inactiva">Inactivas</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <div class="table-card">
                <div class="table-header">
                    <h3>Listado de Empresas</h3>
                    <div class="table-actions">
                        <button id="export-btn" class="btn-secondary">Exportar</button>
                        <button id="refresh-btn" class="btn-secondary">Actualizar</button>
                    </div>
                </div>
                
                <div class="table-container">
                    <table id="empresas-table">
                        <thead>
                            <tr>
                                <th class="col-nombre">
                                    <span>Nombre</span>
                                </th>
                                <th class="col-contacto">Contacto</th>
                                <th class="col-servicios">Servicios</th>
                                <th class="col-estado">Estado</th>
                                <th class="col-ultimo-contacto">
                                    <span>√öltimo Contacto</span>
                                </th>
                                <th class="col-acciones">Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="empty-state">
                                <td colspan="6">
                                    <div class="empty-content">
                                        <div class="empty-icon">üè¢</div>
                                        <h4>No hay empresas registradas</h4>
                                        <p>Comienza a√±adiendo tu primera empresa cliente</p>
                                        <button id="add-first-empresa" class="btn-primary">A√±adir primera empresa</button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="table-footer">
                    <div class="pagination-info">
                        Mostrando <span id="empresas-mostradas">0</span> de <span id="empresas-totales">0</span> empresas
                    </div>
                    <div class="pagination-controls">
                        <button id="prev-page" class="pagination-btn" disabled>‚Üê Anterior</button>
                        <span class="page-info">P√°gina 1</span>
                        <button id="next-page" class="pagination-btn" disabled>Siguiente ‚Üí</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Secci√≥n Servicios -->
        <section id="servicios" class="content-section">
            <h2>Servicios Ofrecidos</h2>
            <div class="services-grid">
                <div class="service-card">
                    <h3>Check-Up Salud Laboral</h3>
                    <p>Evaluaci√≥n express del clima laboral y procesos de RRHH.</p>
                    <button class="btn-service" data-service="checkup">Seleccionar</button>
                </div>
                <div class="service-card">
                    <h3>Taller de Comunicaci√≥n</h3>
                    <p>Sesi√≥n vivencial para mejorar la comunicaci√≥n interna.</p>
                    <button class="btn-service" data-service="comunicacion">Seleccionar</button>
                </div>
                <div class="service-card">
                    <h3>Design Primer Empleado</h3>
                    <p>Asesor√≠a completa para la primera contrataci√≥n.</p>
                    <button class="btn-service" data-service="contratacion">Seleccionar</button>
                </div>
            </div>
            
            <div id="service-details" class="service-details">
                <!-- Los detalles del servicio se cargar√°n din√°micamente -->
            </div>
        </section>

        <!-- Secci√≥n Documentos -->
        <section id="documentos" class="content-section">
            <h2>Documentos y Plantillas</h2>
            
            <div class="documents-actions">
                <div class="form-group">
                    <label for="empresa-documento">Seleccionar Empresa:</label>
                    <select id="empresa-documento">
                        <option value="">Seleccione una empresa</option>
                    </select>
                </div>
            </div>
            
            <div class="documents-grid">
                <div class="document-card">
                    <h3>Kit de Comunicaci√≥n</h3>
                    <p>Plantillas para mejorar la comunicaci√≥n interna.</p>
                    <button class="btn-document" data-document="comunicacion">Generar PDF</button>
                </div>
                <div class="document-card">
                    <h3>Checklist Onboarding</h3>
                    <p>Plan de 30 d√≠as para incorporaci√≥n.</p>
                    <button class="btn-document" data-document="onboarding">Generar PDF</button>
                </div>
                <div class="document-card">
                    <h3>Gu√≠a Primera Contrataci√≥n</h3>
                    <p>Protocolo para primer empleado.</p>
                    <button class="btn-document" data-document="contratacion">Generar PDF</button>
                </div>
                <div class="document-card">
                    <h3>Informe de Evaluaci√≥n</h3>
                    <p>Formato completo de evaluaci√≥n de desempe√±o.</p>
                    <button class="btn-document" data-document="evaluacion">Generar PDF</button>
                </div>
                <div class="document-card">
                    <h3>Plan Desarrollo</h3>
                    <p>Plan de desarrollo individual para colaboradores.</p>
                    <button class="btn-document" data-document="desarrollo">Generar PDF</button>
                </div>
                <div class="document-card">
                    <h3>Encuesta Clima</h3>
                    <p>Formulario para evaluaci√≥n de clima laboral.</p>
                    <button class="btn-document" data-document="clima">Generar PDF</button>
                </div>
            </div>
            
            <div class="generated-documents">
                <h3>Documentos Generados</h3>
                <div id="document-list">
                    <p class="empty-state">No hay documentos generados a√∫n</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Modal para a√±adir/editar empresas - MEJORADO -->
    <div id="empresa-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-title">A√±adir Nueva Empresa</h2>
                <span class="close">&times;</span>
            </div>
            
            <form id="empresa-form">
                <input type="hidden" id="empresa-id">
                
                <div class="form-columns">
                    <div class="form-column">
                        <h3>Informaci√≥n B√°sica</h3>
                        
                        <div class="form-group">
                            <label for="empresa-nombre">Nombre de la empresa *</label>
                            <input type="text" id="empresa-nombre" required placeholder="Ej: TechSolutions S.A.">
                            <div class="error-message" id="nombre-error"></div>
                        </div>
                        
                        <div class="form-group">
                            <label for="empresa-rubro">Rubro/Industria</label>
                            <select id="empresa-rubro">
                                <option value="">Seleccionar rubro</option>
                                <option value="tecnologia">Tecnolog√≠a</option>
                                <option value="consultoria">Consultor√≠a</option>
                                <option value="manufactura">Manufactura</option>
                                <option value="comercio">Comercio</option>
                                <option value="servicios">Servicios</option>
                                <option value="salud">Salud</option>
                                <option value="educacion">Educaci√≥n</option>
                                <option value="otros">Otros</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="empresa-tamano">Tama√±o de empresa</label>
                            <select id="empresa-tamano">
                                <option value="">Seleccionar tama√±o</option>
                                <option value="micro">Micro (1-10 empleados)</option>
                                <option value="pequena">Peque√±a (11-50 empleados)</option>
                                <option value="mediana">Mediana (51-200 empleados)</option>
                                <option value="grande">Grande (201+ empleados)</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-column">
                        <h3>Informaci√≥n de Contacto</h3>
                        
                        <div class="form-group">
                            <label for="empresa-contacto">Persona de contacto *</label>
                            <input type="text" id="empresa-contacto" required placeholder="Nombre y apellido">
                            <div class="error-message" id="contacto-error"></div>
                        </div>
                        
                        <div class="form-group">
                            <label for="empresa-cargo">Cargo/Puesto</label>
                            <input type="text" id="empresa-cargo" placeholder="Ej: Director de RRHH">
                        </div>
                        
                        <div class="form-group">
                            <label for="empresa-email">Email *</label>
                            <input type="email" id="empresa-email" required placeholder="ejemplo@empresa.com">
                            <div class="error-message" id="email-error"></div>
                        </div>
                        
                        <div class="form-group">
                            <label for="empresa-telefono">Tel√©fono</label>
                            <input type="tel" id="empresa-telefono" placeholder="+34 900 123 456">
                        </div>
                    </div>
                </div>
                
                <div class="form-section">
                    <h3>Servicios y Estado</h3>
                    
                    <div class="form-group">
                        <label for="empresa-servicios">Servicios Contratados</label>
                        <div class="checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="servicios" value="checkup">
                                <span class="checkmark"></span>
                                Check-Up Salud Laboral
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="servicios" value="comunicacion">
                                <span class="checkmark"></span>
                                Taller Comunicaci√≥n
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="servicios" value="contratacion">
                                <span class="checkmark"></span>
                                Design Primer Empleado
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="empresa-estado">Estado de la relaci√≥n</label>
                        <select id="empresa-estado">
                            <option value="activa">Activa</option>
                            <option value="prospecto">Prospecto</option>
                            <option value="inactiva">Inactiva</option>
                            <option value="potencial">Cliente Potencial</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-section">
                    <h3>Informaci√≥n Adicional</h3>
                    
                    <div class="form-group">
                        <label for="empresa-notas">Notas y Observaciones</label>
                        <textarea id="empresa-notas" rows="4" placeholder="Informaci√≥n relevante sobre la empresa, necesidades espec√≠ficas, etc."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="empresa-fuente">¬øC√≥mo nos conocieron?</label>
                        <select id="empresa-fuente">
                            <option value="">Seleccionar fuente</option>
                            <option value="recomendacion">Recomendaci√≥n</option>
                            <option value="web">Sitio web</option>
                            <option value="redes">Redes sociales</option>
                            <option value="evento">Evento o conferencia</option>
                            <option value="busqueda">B√∫squeda en Google</option>
                            <option value="otro">Otro</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn-secondary" id="cancel-empresa">Cancelar</button>
                    <button type="submit" class="btn-primary" id="submit-empresa">
                        <span class="submit-text">Guardar Empresa</span>
                        <span class="loading-spinner" style="display: none;">‚è≥</span>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <footer>
        <div class="container">
            <p>MIVRA - personas + process | Sistema de gesti√≥n para consultor√≠as de RRHH</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="app.js"></script>
</body>
</html>